Please review the current changes against Thomas's guidelines:

1. Check for any `any` types in TypeScript code - replace with proper types
2. Verify all new functionality has unit, integration, AND end-to-end tests
3. Ensure code follows the established patterns in the codebase
4. Check that error handling is included for external dependencies
5. Verify no unrelated changes are included
6. Confirm all comments are preserved and accurate

Provide a summary of what you found and any fixes needed.
